<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bending Light</title>
  <link rel="preload" href="bending-light.svg" as="image">
  <link rel="icon" type="image/png" href="favicon.png">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    /* disable horz and vert window scrolling */
    body {
      overflow: hidden;
    }

    html, body {
      width: 100%;
      height: 100%;
    }

    body {
      background-color: black;
      background-image: url('bg.webp');
      background-size: cover;
      background-position: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 100px;
    }

    .logo {
      width: 100%;
      max-width: 1100px;
      height: 0;
      padding-bottom: 37%;
      position: relative;
			animation: fadeIn 3s ease-in-out, scaleUp 20s ease-in-out forwards;
			transform: scale(0.7);
    }

    @media (min-width: 1200px) {
      .logo {
        padding-bottom: 24%;
      }
    }

    .mask-container {
      mask: url('bending-light.svg') no-repeat center;
      -webkit-mask: url('bending-light.svg') no-repeat center;
      mask-size: contain;
      -webkit-mask-size: contain;
      width: 90%;
      max-width: 1200px;
      height: auto;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      left: 50%;
      transform: translate(-50%, -50%);
			display: flex;
  		justify-content: center;
    }

    .mask-container img.universe {
      animation: rotateAndScale 50s infinite linear;
			filter: grayscale(100%) contrast(200%);
			/* filter multiply */
			/* filter: brightness(0.2) saturate(1.5); */
    }
    @media (min-width: 1024px) {
      .mask-container img.universe {
        animation: rotateAndScale 100s infinite linear;
      }
    }

		.bending-light-w-glow {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			width: 90%;
			max-width: 1200px;
			height: auto;
			z-index: -1;
			animation: pulse 3s infinite;
		}

    .cta {
      color: #808492;
      font-size: 16px;
      line-height: 1.3;
      text-align: center;
      /* animation: pulse 2s infinite; */
      animation: fadeIn 3s ease-in-out;
      font-family: 'Arial', sans-serif;
    }

    @media (min-width: 1024px) {
      .cta {
        font-size: 19px;
        line-height: 1.5;
      }
    }

    .social-media-container {
      width: 100%;
      animation: slideUp 5s ease-in-out;
      /* animation: fadeIn 3s ease-in-out; */
    }

    .social-media {
      display: flex;
      justify-content: center;
    }

    .social-media a {
      margin: 0 10px;
      transition: transform 0.2s;
    }

    .social-media a:hover {
      transform: scale(1.1);
    }

    .social-media svg {
      width: 40px;
      height: 40px;
      fill: #EBBDA2;
      transition: fill 0.2s;
    }

    .social-media a:hover svg {
      fill: #347ed3;
    }

     @keyframes fadeIn {
      0% {
        opacity: 0;
      }
      100% {
        opacity: 1;
      }
    }

    @keyframes rotateAndScale {
      0% {
        transform: rotate(0deg) scale(1);
      }
      50% {
        transform: rotate(180deg) scale(1.6);
      }
      100% {
        transform: rotate(360deg) scale(1);
      }
    }

    @keyframes slideUp {
      0% {
        transform: translateY(40px);
        opacity: 0;
      }
      80% {
        transform: translateY(40px);
        opacity: 0;
      }
      100% {
        transform: translateY(0);
        opacity: 1;
      }
    }

    canvas {
      position: absolute;
      top: 0;
      left: 0;
      z-index: -1;
    }

		@keyframes pulse {
			0% {
				opacity: 1;
			}
			50% {
				opacity: 0.5;
			}
			100% {
				opacity: 1;
			}
		}

		@keyframes scaleUp {
			0% {
				transform: scale(0.7);
			}
			100% {
				transform: scale(1);
			}
		}
  </style>
</head>
<body>
  <canvas id="particlesCanvas"></canvas>
  <div class="logo">
    <div class="mask-container">
      <img src="text-bg-3.webp" class="universe" alt="Bending Light">
      <!-- <img src="bg.webp" class="universe" alt="Bending Light"> -->
    </div>
		<img src="bending-light-w-glow.webp" class="bending-light-w-glow" alt="">
  </div>
  <!-- <div class="cta">Listen to the new EP <br><a href="" target="_blank" style="color: #6693C8;"></a></div> -->
  <div class="social-media-container">
    <div class="social-media">
      <a href="" target="_blank" aria-label="Bandcamp">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 682.7 682.7" style="enable-background:new 0 0 682.7 682.7" xml:space="preserve"><style>.st0{fill:#fff}</style><path d="M682.6 341.3C682.6 152.8 529.8 0 341.3 0S0 152.8 0 341.3s152.8 341.3 341.3 341.3 341.3-152.7 341.3-341.3zm-240.8 96.6c-17.8 0-37-4.5-45.6-22.4h-.5v18.7h-27.5v-188L266.5 433.8h-218l101.8-187.9h246.9v69.6h.5c7.9-13.2 24.5-21.4 39.3-21.4 41.5 0 61.7 32.7 61.7 72.5 0 36.7-17.9 71.3-56.9 71.3zm68.7-70.4c0-41.1 21.7-73.3 65-73.3 30.6 0 56.6 15.8 59.4 49.3h-29c-2.3-16.6-14-25.6-30.1-25.6-15 0-36.2 8.2-36.2 49.6 0 22.7 9.7 46.7 34.9 46.7 16.8 0 28.5-11.6 31.4-31.1H635c-5.4 35.3-26.5 54.9-60.4 54.9-41.4-.1-64.1-30.4-64.1-70.5z"/><path d="M433.1 317.9c-24.5 0-37 19.3-37 48.3 0 27.4 13.5 48 37 48 26.5 0 36.5-24.3 36.5-48 0-24.8-12.5-48.3-36.5-48.3z"/><path class="st0" d="M433.1 317.9z"/><path d="M433.1 414.2c-23.4 0-37-20.6-37-48 0-29 12.5-48.3 37-48.3 24 0 36.4 23.5 36.5 48.3 0 23.7-10 48-36.5 48z"/><path class="st0" d="M368.1 245.9v.3l.2-.3z"/></svg>
      </a>
      <a href="" target="_blank" aria-label="Spotify">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>spotify</title><path d="M17.9,10.9C14.7,9 9.35,8.8 6.3,9.75C5.8,9.9 5.3,9.6 5.15,9.15C5,8.65 5.3,8.15 5.75,8C9.3,6.95 15.15,7.15 18.85,9.35C19.3,9.6 19.45,10.2 19.2,10.65C18.95,11 18.35,11.15 17.9,10.9M17.8,13.7C17.55,14.05 17.1,14.2 16.75,13.95C14.05,12.3 9.95,11.8 6.8,12.8C6.4,12.9 5.95,12.7 5.85,12.3C5.75,11.9 5.95,11.45 6.35,11.35C10,10.25 14.5,10.8 17.6,12.7C17.9,12.85 18.05,13.35 17.8,13.7M16.6,16.45C16.4,16.75 16.05,16.85 15.75,16.65C13.4,15.2 10.45,14.9 6.95,15.7C6.6,15.8 6.3,15.55 6.2,15.25C6.1,14.9 6.35,14.6 6.65,14.5C10.45,13.65 13.75,14 16.35,15.6C16.7,15.75 16.75,16.15 16.6,16.45M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z" /></svg>
      </a>
      <a href="" target="_blank" aria-label="Instagram">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>instagram</title><path d="M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7Z" /></svg>
      </a>
      <a href="" target="_blank" aria-label="Facebook">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>facebook</title><path d="M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z" /></svg>
      </a>
    </div>
  </div>
  <script>
    const mobileConfig = {
        sizeRange: [0.8, 2.3],
        speedRange: [0.1, 0.4],
        opacityRange: [0.1, 0.4],
        particleCount: 100
    };

    const desktopConfig = {
        sizeRange: [1, 3],
        speedRange: [0.2, 0.6],
        opacityRange: [0.1, 0.4],
        particleCount: 200
    };

    function onMount(callback) {
        document.addEventListener('DOMContentLoaded', callback);
    }

    onMount(function () {
        const isMobile = window.innerWidth <= 768;
        const particleConfig = isMobile ? mobileConfig : desktopConfig;

        const canvas = document.getElementById('particlesCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let particlesArray = [];

        function Particle(x, y, size, speed, directionAngle, finalOpacity) {
            this.x = x;
            this.y = y;
            this.size = size;
            this.speed = speed;
            this.directionX = Math.cos(directionAngle) * speed;
            this.directionY = Math.sin(directionAngle) * speed;
            this.finalOpacity = finalOpacity;
            this.opacity = 0;

            this.update = function () {
                this.x += this.directionX;
                this.y += this.directionY;
                this.fadeIn();
            };

            this.fadeIn = function () {
                if (this.opacity < this.finalOpacity) {
                    this.opacity += 0.005;
                }
            };

            this.draw = function () {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.closePath();
                ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity})`;
                ctx.fill();
            };
        }

        function init() {
            particlesArray = [];
            for (let i = 0; i < particleConfig.particleCount; i++) {
                let x = Math.random() * canvas.width;
                let y = Math.random() * canvas.height;
                let size = Math.random() * (particleConfig.sizeRange[1] - particleConfig.sizeRange[0]) + particleConfig.sizeRange[0];
                let speed = Math.random() * (particleConfig.speedRange[1] - particleConfig.speedRange[0]) + particleConfig.speedRange[0];
                let directionAngle = Math.floor(Math.random() * 360);
                let opacity = Math.random() * (particleConfig.opacityRange[1] - particleConfig.opacityRange[0]) + particleConfig.opacityRange[0];
                particlesArray.push(new Particle(x, y, size, speed, directionAngle, opacity));
            }
        }

        init();

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            for (let i = 0; i < particlesArray.length; i++) {
                particlesArray[i].update();
                particlesArray[i].draw();
            }
            requestAnimationFrame(animate);
        }

        // Get the query parameters from the current URL
        const params = new URLSearchParams(window.location.search);

        // If the particles off query parameter is set to 1, don't run animate()
				if (params.get('particles') !== 'off') {
						animate();
				}

    });
  </script>
</body>
</html>
